@model StorkDorkMain.Models.RangeSubmission

<div class="card">
    <div class="card-header">
        <h5>Range Submission for @Model.Bird.CommonName</h5>
    </div>
    <div class="card-body">
        <dl class="row">
            <dt class="col-sm-3">Current Range</dt>
            <dd class="col-sm-9">@(Model.Bird.Range ?? "No range information")</dd>

            <dt class="col-sm-3">Submitted Range</dt>
            <dd class="col-sm-9">@Model.RangeDescription</dd>

            <dt class="col-sm-3">Submission Notes</dt>
            <dd class="col-sm-9">@Model.SubmissionNotes</dd>
        </dl>

        <div class="mt-3">
            <form asp-controller="Moderation" asp-action="RejectContent" method="post">
                @Html.AntiForgeryToken()
                <input type="hidden" name="id" value="@Model.Id" />
                <div class="form-group mb-3">
                    <label for="rejectionNotes">Rejection Reason</label>
                    <textarea name="notes" id="rejectionNotes" class="form-control" required></textarea>
                </div>
                <button type="submit" class="btn btn-danger">Reject Content</button>
            </form>

            <form action="@Url.Action("ApproveContent", "Moderation")" method="post">
                @Html.AntiForgeryToken()
                <input type="hidden" name="id" value="@Model.Id" />
                <div class="form-group mb-3">
                    <label for="notes">Moderator Notes</label>
                    <textarea name="notes" id="notes" class="form-control"></textarea>
                </div>
                <button type="submit" class="btn btn-success">Approve Content</button>
            </form>
        </div>
    </div>
</div>

@section Scripts {
    <partial name="_ValidationScriptsPartial" />
    <script>
        $(document).ready(function() {
            $('form').submit(function(e) {
                if (!$(this).valid()) {
                    e.preventDefault();
                }
            });
        });
    </script>
}